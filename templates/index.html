{% extends "layout.html" %}
{% block content %}
<div style="max-width:1200px; margin:auto;">

    <!-- Summary Cards -->
    <div style="display:flex; gap:20px; margin-bottom:30px; flex-wrap:wrap;">
        <div style="flex:1; min-width:220px; background:#1e1e1e; padding:15px; border-radius:10px; text-align:center;">
            <h3>Total Items</h3>
            <p>{{ total_items }}</p>
        </div>
        <div style="flex:1; min-width:220px; background:#1e1e1e; padding:15px; border-radius:10px; text-align:center;">
            <h3>Low Stock Items</h3>
            <p>{{ low_stock_count }}</p>
        </div>
        <div style="flex:1; min-width:220px; background:#1e1e1e; padding:15px; border-radius:10px; text-align:center;">
            <h3>Reorder Alerts</h3>
            <p>{{ reorder_count }}</p>
        </div>
    </div>

    <!-- Item Selector -->
    <form method="get" action="/dashboard" style="margin-bottom:20px; display:flex; gap:10px; align-items:center;">
        <label for="item">Select Item:</label>
        <select name="item" id="item" style="padding:6px; border-radius:6px;">
            {% for itm in items %}
            <option value="{{ itm }}" {% if itm == selected_item %}selected{% endif %}>{{ itm }}</option>
            {% endfor %}
        </select>
        <button type="submit" style="padding:8px 14px; border-radius:6px; background:#3498db; border:none; color:#fff; cursor:pointer;">Load</button>
    </form>

    <!-- Charts -->
    <div style="margin-top:20px;">
        <h2>Demand Trend</h2>
        <img src="/static/plots/demand_trend.png" alt="Demand Trend Chart" style="width:100%; border-radius:10px; margin-bottom:30px;">

        <h2>Forecast vs Actual</h2>
        <img src="/static/plots/forecast_comparison.png" alt="Forecast Comparison Chart" style="width:100%; border-radius:10px;">
    </div>

</div>
{% endblock %}
